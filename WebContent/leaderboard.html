<html ng-App="leaderboard">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="HTMLPages/leaderboard/leaderboardStyles.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/utilities.css">
  <link rel="stylesheet" href="css/formValidationStyles.css">
  <script type="text/javascript" src="js/angular.min.js"></script>
  <script  type="text/javascript" src="HTMLPages/leaderboard/leaderboardControllers.js"></script>
  <title>LeaderBoard</title>
</head>
<body class="lightGrey" ng-controller="leaderboardController" data-ng-init="getLeaderboards()">
  <h1 class="mainTitle">LeaderBoard:</h1>
  <!--Top user template-->
  <!--X20-->
  <div class="topUsersContainer col-xs-offset-1 col-xs-10 lightGrey" ng-repeat="user in topUsers | limitTo:20">
    <div class="topUserInfo lightGreyContentBorder lightGrey clearfix" ng-class="{firstUser: $first , lastUser: $last}" ng-init="toggle = 0">
      <div class="row topRow">
        <p class="col-xs-1">{{$index+1}}.</p>
        <p class="usersPhoto col-xs-2 col-xs-offset-1" ng-model="photo"><img class="profilePicture" src="{{user.photo}}" alt=""></p>
        <p class="usersNickName leaderboardNickname col-xs-5" ng-model="nickname" ng-click="toggle =  (toggle + 1)%2">{{user.nickname}}-{{user.rating}}</p>
      </div>
      <div class="hiddenContentContainer" ng-show="toggle == 1">
            <p class="usersPhoto" ng-model="username">Username: {{user.username}}</p>

            <p class="usersExpertise" ng-model="expertise">Expertise:{{expertise}}</p>
            <p class="usersDescription" ng-model="description" ng-show="user.description != ''">Description: {{user.description}}</p>
            <p class="usersExpertiseProfile" ng-model="usersExpertiseProfile"></p>
            <!--Users last asked questions-->
            <!--X5-->
            <h2 class="subTitle col-xs-6">Latest Questions:</h2>
            <div class="usersLastAskedQuestions col-xs-6" ng-model="usersLastAskedQuestions" ng-repeat="question in user.latestQuestions | orderBy: timestamp  | limitTo:5">
              <div class="timestamdiv">timestamdiv: {{question.timestamdiv | date: 'dd/mm/yyyy hh:mm:ss'}}</div>
              <div class="questionsText">questionsText: {{question.text}}</div>
              <div class="questionsTodivics">questionsTodivics: {{question.todivics}}</div>
              <div class="questionsRating">questionsRating: {{question.voteCount}}</div>
            </div>
            <!--Users last Answers and thier Questions-->
            <!--X5-->
            <h2 class="subTitle col-xs-6">Latest Answers:</h2>
            <div class="usersLastAnswers col-xs-6" ng-model="usersLastAskedAnswers" ng-repeat="answer in user.latestAnswers | orderBy: timestamp |limitTo:5">
              <!--The Question:-->
              <div class="timestamp">timestamp: {{answer.timestamp | date: 'dd/mm/yyyy hh:mm:ss'}}</div>
              <div class="questionsText">questionsText: {{answer.text}}</div>
              <div class="questionsTopics" ng-show="answer.topics.length != 0">questionsTopics: {{answer.topics}}</div>
              <div class="questionsRating">questionsRating: {{answer.voteCount}}</div>
              <!--The Answer:-->
              <div class="answersText">answersText: {{answer.text}}</div>
              <div class="answersRating">answersRating: {{answer.rating}}</div>
            </div>
          </div>
    </div>
  </div>

</body>
</html>
